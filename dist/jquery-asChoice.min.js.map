{"version":3,"sources":["jquery-asChoice.es.js"],"names":["global","factory","define","amd","exports","require","mod","jQuery","jqueryAsChoiceEs","this","_jquery","_classCallCheck","instance","Constructor","TypeError","_jquery2","obj","__esModule","default","_interopRequireDefault","_typeof","Symbol","iterator","constructor","prototype","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","DEFAULTS","namespace","skin","multiple","value","asChoice","select","options","arguments","undefined","$select","$options","find","meta","status","prop","each","v","attr","text","push","extend","classes","selected","disabled","_trigger","init","_this","tpl","css","display","$wrap","addClass","$tpl","data","icon","appendTo","append","after","_bindEvents","that","on","_eventName","e","preventDefault","hasClass","set","$option","$li","pos","inArray","splice","removeClass","_this2","li","off","remove","events","split","join","eventType","_ref","_len","params","Array","_key","concat","apply","trigger","NAMESPACE$1","onFunction","replace","word","substring","toUpperCase","_options$onFunction"],"mappings":"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","file":"jquery-asChoice.min.js","sourcesContent":["/**\n* jquery asChoice v0.3.2\n* https://github.com/amazingSurge/jquery-asChoice\n*\n* Copyright (c) amazingSurge\n* Released under the LGPL-3.0 license\n*/\nimport $ from 'jquery';\n\nvar DEFAULTS = {\n  namespace: 'asChoice',\n  skin: null,\n\n  multiple: false,\n  value: ['default']\n};\n\nconst NAMESPACE$1 = 'asChoice';\n\n/**\n * Plugin constructor\n **/\nclass asChoice {\n  constructor(select, options = {}) {\n    this.select = select;\n    this.$select = $(select);\n\n    this.$options = this.$select.find('option');\n    const meta = {};\n\n    if (this.$options.length !== 0) {\n      meta.status = {};\n      meta.value = [];\n      meta.multiple = this.$select.prop('multiple');\n\n      $.each(this.$options, (i, v) => {\n        meta.status[$(v).attr('value')] = {};\n        meta.status[$(v).attr('value')].text = $(v).text();\n        if ($(v).prop('selected')) {\n          meta.value.push($(v).attr('value'));\n        }\n      });\n    }\n\n    this.options = $.extend({}, DEFAULTS, options, meta);\n    this.namespace = this.options.namespace;\n    this.status = this.options.status;\n\n    this.classes = {\n      selected: `${this.namespace}-selected`,\n      disabled: `${this.namespace}-disabled`,\n      skin: `${this.namespace}_${this.options.skin}`\n    };\n\n    this.value = [];\n    this.disabled = false;\n    this._trigger('init');\n    this.init();\n  }\n\n  init() {\n    const tpl = `<li><span class=\"${this.namespace}-text\"></span></li>`;\n\n    this.$select.css({\n      display: 'none'\n    });\n\n    this.$wrap = $('<ul></ul>');\n    this.$wrap.addClass(this.namespace);\n    if (this.options.skin) {\n      this.$wrap.addClass(this.classes.skin);\n    }\n\n    $.each(this.status, (key, value) => {\n      const $tpl = $(tpl).data('value', key);\n\n      if (typeof value === 'object') {\n        if (value.icon) {\n          $('<i></i>').addClass(value.icon).appendTo($tpl);\n        }\n        if (value.text) {\n          $tpl.find('span').text(value.text);\n        }\n\n      } else {\n        $tpl.find('span').text(value.text);\n      }\n\n      $.each(this.value, (i, v) => {\n        if (v === key) {\n          $tpl.addClass(this.classes.selected);\n        }\n      });\n\n      this.$wrap.append($tpl);\n    });\n\n    this.$select.after(this.$wrap);\n\n    this._bindEvents();\n\n    this._trigger('ready');\n  }\n\n  _bindEvents() {\n    const that = this;\n     // unselected a link\n    this.$wrap.find('a').on(this._eventName('click'), e => {\n      e.preventDefault();\n    });\n\n    if (this.options.multiple === true) {\n      this.$wrap.on( this._eventName('click touchstart'), 'li', function() {\n        if ($(this).hasClass(that.classes.selected)) {\n          that.set($(this).data('value'), 'unselected');\n          return false;\n        } else {\n          that.set($(this).data('value'), 'selected');\n          return false;\n        }\n      });\n      $.each(this.options.value, (i, v) => {\n        that.set(v, 'selected');\n      });\n    } else {\n      this.$wrap.on(this._eventName('click touchstart'), 'li', function() {\n        that.set($(this).data('value'), 'selected');\n      });\n      this.set(this.options.value[0], 'selected');\n    }\n  }\n\n  set(value, status) {\n    let $option;\n    let $li;\n    const pos = $.inArray(value, this.value);\n\n    if (this.disabled) {\n      return;\n    }\n\n    if (this.options.multiple === true) {\n      $.each(this.$options, (i, v) => {\n        if ($(v).attr('value') === value) {\n          $option = $(v);\n        }\n      });\n      $.each(this.$wrap.find('li'), (i, v) => {\n        if ($(v).data('value') === value) {\n          $li = $(v);\n        }\n      });\n\n      if (status === 'selected') {\n        this.value.push(value);\n        $li.addClass(this.classes.selected);\n        $option.prop('selected', true);\n\n      } else {\n        this.value.splice(pos, 1);\n        $li.removeClass(this.classes.selected);\n        $option.prop('selected', false);\n      }\n\n      this._trigger('change');\n    } else {\n      if (value === this.value[0]) {\n        return;\n      }\n\n      if (status !== 'selected') {\n        return;\n      }\n\n      const that = this;\n      $.each(this.$options, (i, v) => {\n        if ($(v).attr('value') === value) {\n          $(v).prop('selected', true);\n        } else {\n          $(v).prop('selected', false);\n        }\n      });\n\n      $.each(this.$wrap.find('li'), (i, v) => {\n        if ($(v).data('value') === value) {\n          $(v).addClass(that.classes.selected);\n          that.value[0] = value;\n\n        } else {\n          $(v).removeClass(that.classes.selected);\n        }\n      });\n      this._trigger('change');\n    }\n  }\n\n  val(value, status) {\n    if (value && status) {\n      this.set(value, status);\n    } else if (value) {\n      if (typeof value === 'string') {\n        // value is string\n        this.set(value, 'selected');\n      } else {\n        // value is array\n        const options = this.$wrap.find('li');\n        $.each(options, (key, li) => {\n          const data = $(li).data('value');\n          if ($.inArray(data, value)) {\n            this.set(data, 'selected');\n          } else {\n            this.set(data, 'unselected');\n          }\n        });\n      }\n    } else {\n      return this.value;\n    }\n  }\n\n  enable() {\n    this.disabled = false;\n    this.$wrap.removeClass(this.classes.disabled);\n    return this;\n  }\n\n  disable() {\n    this.disabled = true;\n    this.$wrap.addClass(this.classes.disabled);\n    return this;\n  }\n\n  destroy() {\n    this.$wrap.off(this._eventName());\n    this.$wrap.find('a').off(this._eventName());\n    this.$wrap.remove();\n  }\n\n  _eventName(events) {\n    if (typeof events !== 'string' || events === '') {\n      return `.${this.options.namespace}`;\n    }\n    events = events.split(' ');\n\n    let length = events.length;\n    for (let i = 0; i < length; i++) {\n      events[i] = `${events[i]}.${this.options.namespace}`;\n    }\n    return events.join(' ');\n  }\n\n\n  _trigger(eventType, ...params) {\n    let data = [this].concat(...params);\n\n    // event\n    this.$select.trigger(`${NAMESPACE$1}::${eventType}`, data);\n\n    // callback\n    eventType = eventType.replace(/\\b\\w+\\b/g, (word) => {\n      return word.substring(0, 1).toUpperCase() + word.substring(1);\n    });\n    let onFunction = `on${eventType}`;\n\n    if (typeof this.options[onFunction] === 'function') {\n      this.options[onFunction].apply(this, ...params);\n    }\n  }\n\n  static setDefaults(options) {\n    $.extend(DEFAULTS, $.isPlainObject(options) && options);\n  }\n}\n\nvar info = {\n  version:'0.3.2'\n};\n\nconst NAMESPACE = 'asChoice';\nconst OtherAsChoice = $.fn.asChoice;\n\nconst jQueryAsChoice = function(options, ...args) {\n  if (typeof options === 'string') {\n    const method = options;\n\n    if (/^_/.test(method)) {\n      return false;\n    } else if ((/^(get)$/.test(method)) || (method === 'val' && args.length === 0)) {\n      const instance = this.first().data(NAMESPACE);\n      if (instance && typeof instance[method] === 'function') {\n        return instance[method](...args);\n      }\n    } else {\n      return this.each(function() {\n        const instance = $.data(this, NAMESPACE);\n        if (instance && typeof instance[method] === 'function') {\n          instance[method](...args);\n        }\n      });\n    }\n  }\n\n  return this.each(function() {\n    if (!$(this).data(NAMESPACE)) {\n      $(this).data(NAMESPACE, new asChoice(this, options));\n    }\n  });\n};\n\n$.fn.asChoice = jQueryAsChoice;\n\n$.asChoice = $.extend({\n  setDefaults: asChoice.setDefaults,\n  noConflict: function() {\n    $.fn.asChoice = OtherAsChoice;\n    return jQueryAsChoice;\n  }\n}, info);\n"]}