/**
* jquery asChoice v0.3.0
* https://github.com/amazingSurge/jquery-asChoice
*
* Copyright (c) amazingSurge
* Released under the LGPL-3.0 license
*/
!function(e,t){if("function"==typeof define&&define.amd)define(["jquery"],t);else if("undefined"!=typeof exports)t(require("jquery"));else{var s={exports:{}};t(e.jQuery),e.jqueryAsChoiceEs=s.exports}}(this,function(e){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=t(e),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(){function e(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,s,a){return s&&e(t.prototype,s),a&&e(t,a),t}}(),l={namespace:"asChoice",skin:null,multiple:!1,value:["default"]},u="asChoice",o=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(this,e),this.select=t,this.$select=(0,a.default)(t),this.$options=this.$select.find("option");var n={};0!==this.$options.length&&(n.status={},n.value=[],n.multiple=this.$select.prop("multiple"),a.default.each(this.$options,function(e,t){n.status[(0,a.default)(t).attr("value")]={},n.status[(0,a.default)(t).attr("value")].text=(0,a.default)(t).text(),(0,a.default)(t).prop("selected")&&n.value.push((0,a.default)(t).attr("value"))})),this.options=a.default.extend({},l,i,n),this.namespace=this.options.namespace,this.status=this.options.status,this.classes={selected:this.namespace+"-selected",disabled:this.namespace+"-disabled",skin:this.namespace+"_"+this.options.skin},this.value=[],this.disabled=!1,this._trigger("init"),this.init()}return n(e,[{key:"init",value:function(){var e=this,t='<li><span class="'+this.namespace+'-text"></span></li>';this.$select.css({display:"none"}),this.$wrap=(0,a.default)("<ul></ul>"),this.$wrap.addClass(this.namespace),this.options.skin&&this.$wrap.addClass(this.classes.skin),a.default.each(this.status,function(s,n){var l=(0,a.default)(t).data("value",s);"object"===("undefined"==typeof n?"undefined":i(n))?(n.icon&&(0,a.default)("<i></i>").addClass(n.icon).appendTo(l),n.text&&l.find("span").text(n.text)):l.find("span").text(n.text),a.default.each(e.value,function(t,a){a===s&&l.addClass(e.classes.selected)}),e.$wrap.append(l)}),this.$select.after(this.$wrap),this._bindEvents(),this._trigger("ready")}},{key:"_bindEvents",value:function(){var e=this;this.$wrap.find("a").on(this._eventName("click"),function(e){e.preventDefault()}),this.options.multiple===!0?(this.$wrap.on(this._eventName("click touchstart"),"li",function(){return(0,a.default)(this).hasClass(e.classes.selected)?(e.set((0,a.default)(this).data("value"),"unselected"),!1):(e.set((0,a.default)(this).data("value"),"selected"),!1)}),a.default.each(this.options.value,function(t,s){e.set(s,"selected")})):(this.$wrap.on(this._eventName("click touchstart"),"li",function(){e.set((0,a.default)(this).data("value"),"selected")}),this.set(this.options.value[0],"selected"))}},{key:"set",value:function(e,t){var s=this,n=void 0,l=void 0,u=a.default.inArray(e,this.value);if(!this.disabled)if(this.options.multiple===!0)a.default.each(this.$options,function(t,s){(0,a.default)(s).attr("value")===e&&(n=(0,a.default)(s))}),a.default.each(this.$wrap.find("li"),function(t,s){(0,a.default)(s).data("value")===e&&(l=(0,a.default)(s))}),"selected"===t?(this.value.push(e),l.addClass(this.classes.selected),n.prop("selected",!0)):(this.value.splice(u,1),l.removeClass(this.classes.selected),n.prop("selected",!1)),this._trigger("change");else{var o=function(){if(e===s.value[0])return{v:void 0};if("selected"!==t)return{v:void 0};var i=s;a.default.each(s.$options,function(t,s){(0,a.default)(s).attr("value")===e?(0,a.default)(s).prop("selected",!0):(0,a.default)(s).prop("selected",!1)}),a.default.each(s.$wrap.find("li"),function(t,s){(0,a.default)(s).data("value")===e?((0,a.default)(s).addClass(i.classes.selected),i.value[0]=e):(0,a.default)(s).removeClass(i.classes.selected)}),s._trigger("change")}();if("object"===("undefined"==typeof o?"undefined":i(o)))return o.v}}},{key:"val",value:function(e,t){var s=this;if(e&&t)this.set(e,t);else{if(!e)return this.value;if("string"==typeof e)this.set(e,"selected");else{var i=this.$wrap.find("li");a.default.each(i,function(t,i){var n=(0,a.default)(i).data("value");a.default.inArray(n,e)?s.set(n,"selected"):s.set(n,"unselected")})}}}},{key:"enable",value:function(){return this.disabled=!1,this.$wrap.removeClass(this.classes.disabled),this}},{key:"disable",value:function(){return this.disabled=!0,this.$wrap.addClass(this.classes.disabled),this}},{key:"destroy",value:function(){this.$wrap.off(this._eventName()),this.$wrap.find("a").off(this._eventName()),this.$wrap.remove()}},{key:"_eventName",value:function(e){if("string"!=typeof e||""===e)return"."+this.options.namespace;e=e.split(" ");for(var t=e.length,s=0;s<t;s++)e[s]=e[s]+"."+this.options.namespace;return e.join(" ")}},{key:"_trigger",value:function(e){for(var t,s=arguments.length,a=Array(s>1?s-1:0),i=1;i<s;i++)a[i-1]=arguments[i];var n=(t=[this]).concat.apply(t,a);this.$select.trigger(u+"::"+e,n),e=e.replace(/\b\w+\b/g,function(e){return e.substring(0,1).toUpperCase()+e.substring(1)});var l="on"+e;if("function"==typeof this.options[l]){var o;(o=this.options[l]).apply.apply(o,[this].concat(a))}}}],[{key:"setDefaults",value:function(e){a.default.extend(l,a.default.isPlainObject(e)&&e)}}]),e}(),f={version:"0.3.0"},r="asChoice",d=a.default.fn.asChoice,c=function(e){for(var t=this,s=arguments.length,n=Array(s>1?s-1:0),l=1;l<s;l++)n[l-1]=arguments[l];if("string"==typeof e){var u=function(){var s=e;if(/^_/.test(s))return{v:!1};if(!/^(get)/.test(s))return{v:t.each(function(){var e=a.default.data(this,r);e&&"function"==typeof e[s]&&e[s].apply(e,n)})};var i=t.first().data(r);return i&&"function"==typeof i[s]?{v:i[s].apply(i,n)}:void 0}();if("object"===("undefined"==typeof u?"undefined":i(u)))return u.v}return this.each(function(){(0,a.default)(this).data(r)||(0,a.default)(this).data(r,new o(this,e))})};a.default.fn.asChoice=c,a.default.asChoice=a.default.extend({setDefaults:o.setDefaults,noConflict:function(){return a.default.fn.asChoice=d,c}},f)});